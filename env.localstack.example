# =============================================================================
# TerraFix LocalStack Environment Configuration
# =============================================================================
#
# This file contains environment variables for running TerraFix load testing
# experiments with LocalStack and local Redis.
#
# Usage:
#   cp env.localstack.example .env
#   docker-compose -f docker-compose.localstack.yml up -d
#
# Or pass directly to docker-compose:
#   docker-compose -f docker-compose.localstack.yml --env-file env.localstack.example up -d
#
# =============================================================================

# -----------------------------------------------------------------------------
# LocalStack Configuration
# -----------------------------------------------------------------------------
# Debug mode for LocalStack (0=disabled, 1=enabled)
LOCALSTACK_DEBUG=0

# AWS region to use
AWS_REGION=us-west-2

# Dummy AWS credentials (LocalStack accepts any values)
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# LocalStack endpoint URL
LOCALSTACK_ENDPOINT=http://localhost:4566

# -----------------------------------------------------------------------------
# TerraFix Mock Mode Configuration
# -----------------------------------------------------------------------------
# Enable mock mode (bypasses real Vanta, GitHub, Bedrock APIs)
TERRAFIX_MOCK_MODE=true

# API server port
TERRAFIX_API_PORT=8081

# Simulated processing latency in milliseconds
# Adjust this to simulate realistic Bedrock API response times
MOCK_LATENCY_MS=50

# Simulated failure rate (0.0 = no failures, 1.0 = all fail)
# Use this to test error handling and resilience
MOCK_FAILURE_RATE=0.0

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection URL (using local Redis container)
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# State retention period in days
STATE_RETENTION_DAYS=7

# Dummy credentials (required by config validation but unused in mock mode)
# In real deployments, these would be actual tokens
VANTA_API_TOKEN=mock-token-for-load-testing
GITHUB_TOKEN=mock-token-for-load-testing

# GitHub repository mapping (JSON format)
# Not used in mock mode, but required by config validation
GITHUB_REPO_MAPPING={"default": "mock-org/mock-repo"}

# Path to Terraform files within repositories
TERRAFORM_PATH=terraform

# -----------------------------------------------------------------------------
# Load Testing Configuration
# -----------------------------------------------------------------------------
# Default experiment type for Locust tests
TERRAFIX_EXPERIMENT=throughput

# Repository size profile for scalability tests (small, medium, large)
TERRAFIX_REPO_SIZE=medium

# Output directory for experiment results
TERRAFIX_OUTPUT_DIR=./experiment_results

